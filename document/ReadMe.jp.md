# *Storage Provider* コンストラクタ

---

このドキュメントには現在、中国語、英語、日本語の3つの言語バージョンがあります。

- 中国語: [中国語](../ReadMe.md)
- 英語: [英語](./ReadMe.en.md)
- 日本語: このドキュメント

---

## 概要

*Storage Provider* は、データの保存と取得のためのストレージ API を提供します。

この API には、以下のメソッドがあります：

1. ストレージデータを設定または取得する
    1. `Storage(key, value)` は単一のストレージデータを設定または取得するために使用します。
    2. `Save(key, value)` は単一のストレージデータを設定するために使用します。
    3. `SaveMany(arr)` は複数のストレージデータを設定するために使用します。
    4. `Get(key)` は単一のストレージデータを取得するために使用します。
    5. `GetMany(arr)` はストレージから複数のキーに対応する値を取得するために使用します。
    6. `GetAll()` はローカルストレージからすべてのデータを取得するために使用します。
2. ストレージデータを削除する
    1. `Delete(key)` は単一またはすべてのストレージデータを削除するために使用します。
    2. `Remove(key)` は単一のストレージデータを削除するために使用します。
    3. `RemoveMany(arr)` はローカルストレージから複数のデータを削除するために使用します。
    4. `Clean()` はすべてのストレージデータを削除するために使用します。

このストレージ API は、データの管理と操作を簡単にする便利な方法を提供し、開発者がさまざまなタイプのデータを簡単に保存および取得できるようにします。セッションレベルまたはローカルレベルであっても、開発者はこの API を使用してデータ保存のニーズを満たすことができます。

---

---

## 更新履歴

詳細については[更新履歴](./updataLog/log.jp.md)を参照してください。

---

---

## 関数の導入と設定方法

この方法では、JavaScriptの`import`を使用して導入する必要があります。
バージョンv0.1.1以前では、htmlのスクリプトタグを直接使用して導入することはサポートされていません。

**導入の例コードは以下の通りです**

```js
import { StorageProvider, $Storage } from "StorageProvider.js";
```

配布名は、このドキュメントで提供されたものと異なる場合があります。適切なパスと名前を使用して正しく導入してください。

`StorageProvider`を使用する場合は、`new`を使用して呼び出す必要があります。指定された文字列を初期化設定として渡す必要があり、オプションの内容は`"local"`または`"session"`の2つの文字列です。これらの2つの文字列はそれぞれ`localStorage`および`sessionStorage`の初期化メソッドに対応します。その後、このドキュメントで述べられている関連するメソッドを使用できます。

`$Storage`を使用する場合、デフォルト設定は`"local"`です。このドキュメントで説明されている関連メソッドを直接使用できます。

**使用例コードは以下の通りです**

```js
// メソッドを使用するためにStorageProviderを使用
import { StorageProvider } from "StorageProvider.js";

const $Storage = new StorageProvider("local");

$Storage.Save("arg", "hello"); // ここで使用されているメソッドは例です。実際のニーズに応じて対応するメソッドを使用してください
```

```js
// メソッドを使用するために$Storageを使用
import { $Storage } from "StorageProvider.js";

$Storage.Save("arg", "hello"); // ここで使用されているメソッドは例です。実際のニーズに応じて対応するメソッドを使用してください
```

---

---

## 説明

ほとんどのメソッドで発生する可能性のある例外の原因：

**key**:

- `key` が `string` 型ではない
- `key` が空の文字列です

**arr**:

- 入力パラメータが配列ではない
- 配列内に有効なデータがない
- 配列内のデータが文字列でない
- 配列の要素がオブジェクトでない
- オブジェクトに `key` と `value` の属性が含まれていない

具体的な原因については、実際のエラーメッセージを参照してください。
上記の理由に基づいて、すべてのメソッドの宣言にはこれらのエラーメッセージが含まれていないことに注意してください。

---

---

## データの保存と取得のメソッド

### 1. `Storage`

#### 機能

単一のストレージデータの設定または取得

#### パラメータ

| パラメータ | 必須 | タイプ | 説明 |
| --- | --- | --- | --- |
| key | true | string | データのキー |
| value | false | 任意 | 保存する値 |

#### 戻り値

| タイプ | 説明 |
| --- | --- |
| void | value が有効な場合、値を保存し、戻り値はありません |
| any | value が無効な場合、保存された値が返されます |

---

### 2. `Save`

#### 機能

単一のストレージデータの設定

#### パラメータ

| パラメータ | 必須 | タイプ | 説明 |
| --- | --- | --- | --- |
| key | true | string | データのキー |
| value | true | 任意 | 保存する値 |

#### 戻り値

なし

#### 例外の原因

- value が無効です

---

### 3. `SaveMany`

#### 機能

複数のストレージデータの設定

#### パラメータ

| パラメータ | 必須 | タイプ | 説明 |
| --- | --- | --- | --- |
| arr | true | array | 保存する複数のデータを表す配列。配列のそれぞれの要素は `key` と `value` のプロパティを持つオブジェクトである。 |

#### 戻り値

なし

---

### 4. `Get`

#### 機能

単一のストレージデータの取得

#### パラメータ

| パラメータ | 必須 | タイプ | 説明 |
| --- | --- | --- | --- |
| key | true | string | データのキー |

#### 戻り値

キーに対応する値を返します。値のタイプは any です。

---

### 5. `GetMany`

#### 機能

ストレージから複数のキーに対応する値を取得する

#### パラメータ

| パラメータ | 必須 | タイプ | 説明 |
| --- | --- | --- | --- |
| arr | true | array | 値を取得するキーを含む配列 |

#### 戻り値

キーと値のペアを含むオブジェクトの配列
フォーマットの例： `[{key1: value1}, {key2: value2}, ...]` 。

---

### 6. `GetAll`

#### 機能

ストレージからすべてのローカルデータを取得する

#### パラメータ

なし

#### 戻り値

すべてのローカルストレージデータを含むオブジェクトの配列
フォーマットの例： `{key1: value1, key2: value2, ...}` 。

---

---

## 削除するためのストレージデータのメソッド

### 1. `Delete`

#### 機能

ストレージデータを削除します。

#### パラメータ

| パラメータ | 必須 | タイプ | 説明 |
| --- | --- | --- | --- |
| key | false | string | 削除するデータのキー |

#### 戻り値

なし

---

### 2. `Remove`

#### 機能

単一のストレージデータを削除する

#### パラメータ

| パラメータ | 必須 | タイプ | 説明 |
| --- | --- | --- | --- |
| key | true | string | 削除するデータのキー |

#### 戻り値

なし

---

### 3. `RemoveMany`

#### 機能

複数のストレージデータを削除する

#### パラメータ

| パラメータ | 必須 | タイプ | 説明 |
| --- | --- | --- | --- |
| arr | true | array | 削除するキーを含む配列。配列内の要素はすべて `string` のフォーマットである必要があります。 |

#### 戻り値

なし

---

### 4. `Clean`

#### 機能

保存されているすべてのデータを削除する

#### パラメータ

なし

#### 戻り値

なし
